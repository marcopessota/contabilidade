<button class="btn btn-primary">Lista de diários</button>
<button ng-click="diarioCtrl.importar_diario(true)" class="btn btn-warning">Importar diário</button>



<!-- <div>
	<div>LINHAS SELECIONADAS</div>
	{{diarioCtrl.selected | json}}
</div> -->


<div ng-show="diarioCtrl.action == 'import'" >
	<h1>Importar diário</h1>
	<!-- {{diarioCtrl.answers}} -->
	<!-- {{diarioCtrl.import_answers}} -->
	<div ng-show="diarioCtrl.answers == 'question'">
		<h3>Antes de realizar a importação será necessário que sejam respondidas algumas questões.</h3>
		<button class="btn btn-primary" ng-click="diarioCtrl.answers = 'question1.1'">OK, prosseguir</button>
	</div>

	<!-- 					 -->
	<!-- QUESTÕES SOBRE DATA -->
	<!-- 					 -->
	<div ng-show="diarioCtrl.answers == 'question1.1'">
		<div>A data do lançamento aparece em todas as linhas?</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.set_answer('question1.1', 'yes', 'question1.1.1')">Sim</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.set_answer('question1.1', 'no', 'question1.2')">Não</button>
	</div>

	<div ng-show="diarioCtrl.answers == 'question1.1.1'">
		<div>Selecione na linha abaixo onde está o campo <b>data</b> e pressione "OK"? (Será necessário fazer essa ação 3 vezes)</div>
		<div class="preview_select_line" ng-mouseup="diarioCtrl.selected_text = diarioCtrl.S_fx.get_selection_text()">{{diarioCtrl.table_line}}</div>
		<div class="preview_answer_question1.1.1">
			<div ng-repeat="item in diarioCtrl.import_answers['question1.1.1'].selections track by $index">
				<span>Data linha {{$index + 1}}</span>: <b>{{item}}</b>
			</div>
		</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.select_date_row()">OK!</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.clear_selection_text()">Apagar seleção</button>
	</div>

	<div ng-show="diarioCtrl.answers == 'question1.2'">
		<div>A data do lançamento aparece acima ou abaixo das linhas de registros?</div>
		<div class="import_diario_holder">
			<table>
				<tr>
					<th width="6%">N° linha</th>
					<th width="94%">Linha diário</th>
				</tr>
				<tr ng-repeat="item in diarioCtrl.preview_import_items track by $index">
					<td>{{$index + 1}}</td>
					<td>{{item}}</td>
				</tr>
			</table>
		</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.set_answer('question1.2', 'above', 'question1.2.1')">Acima</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.set_answer('question1.2', 'below', 'question1.2.1')">Abaixo</button>
	</div>

	<div ng-show="diarioCtrl.answers == 'question1.2.1'">
		<div>Quantas linhas a data está Acima/Abaixo dos registros?</div>
		<div class="form-group">
			<input type="text" ng-model="diarioCtrl.line_numbers_date" class="form-control" placeholder="Ex.: 4">
		</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.set_answer('question1.2.1', '', 'question2.1')">Enviar</button>
	</div>
	<!-- 					  -->
	<!-- QUESTÕES SOBRE CONTA -->
	<!-- 					  -->
	<div ng-show="diarioCtrl.answers == 'question2.1'">
		<div>Selecione na linha abaixo onde está o campo <b>conta</b> e pressione "OK"? (Será necessário fazer essa ação 3 vezes)</div>
		<div class="preview_select_line" ng-mouseup="diarioCtrl.selected_text = diarioCtrl.S_fx.get_selection_text()">{{diarioCtrl.table_line}}</div>
		<div class="preview_answer_question2.1">
			<div ng-repeat="item in diarioCtrl.import_answers['question2.1'].selections track by $index">
				<span>Data linha {{$index + 1}}</span>: <b>{{item}}</b>
			</div>
		</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.select_date_row()">OK!</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.clear_selection_text()">Apagar seleção</button>
	</div>

	<!-- 					   -->
	<!-- QUESTÕES SOBRE DÉBITO -->
	<!-- 					   -->
	<div ng-show="diarioCtrl.answers == 'question3.1'">
		<div>Selecione na linha abaixo onde está o campo <b>débito</b> e pressione "OK"? (Será necessário fazer essa ação 3 veze)</div>
		<div class="preview_select_line" ng-mouseup="diarioCtrl.selected_text = diarioCtrl.S_fx.get_selection_text()">{{diarioCtrl.table_line}}</div>
		<div class="preview_answer_question3.1">
			<div ng-repeat="item in diarioCtrl.import_answers['question3.1'].selections track by $index">
				<span>Data linha {{$index + 1}}</span>: <b>{{item}}</b>
			</div>
		</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.select_date_row()">OK!</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.clear_selection_text()">Apagar seleção</button>
	</div>

	<!-- 					    -->
	<!-- QUESTÕES SOBRE CRÉDITO -->
	<!-- 					    -->
	<div ng-show="diarioCtrl.answers == 'question4.1'">
		<div>Selecione na linha abaixo onde está o campo <b>crédito</b> e pressione "OK"? (Será necessário fazer essa ação mais de uma vez)</div>
		<div class="preview_select_line" ng-mouseup="diarioCtrl.selected_text = diarioCtrl.S_fx.get_selection_text()">{{diarioCtrl.table_line}}</div>
		<div class="preview_answer_question4.1">
			<div ng-repeat="item in diarioCtrl.import_answers['question4.1'].selections track by $index">
				<span>Conta linha {{$index + 1}}</span>: <b>{{item}}</b>
			</div>
		</div>
		<button class="btn btn-primary" ng-click="diarioCtrl.select_date_row()">OK!</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.clear_selection_text()">Apagar seleção</button>
	</div>

	<!-- 					    -->
	<!-- SUCESSO				-->
	<!-- 					    -->
	<div ng-show="diarioCtrl.answers == 'question_end'">
		<div>Veja como ficou suas reposta, confirme ou recomece</div>
		<!-- <table>
			<tr>
				<th>Pergunta</th>
				<th>Resposta</th>
			</tr>
			<tr>
				<td>A data do lançamento aparece em todas as linhas?</td>
				<td>{{diarioCtrl.answers[""]}}</td>
			</tr>
			<tr>
				<td>A data do lançamento aparece em todas as linhas?</td>
				<td>{{diarioCtrl.answers[""]}}</td>
			</tr>
			<tr>
				<td>A data do lançamento aparece em todas as linhas?</td>
				<td>{{diarioCtrl.answers[""]}}</td>
			</tr>
			<tr>
				<td>A data do lançamento aparece em todas as linhas?</td>
				<td>{{diarioCtrl.answers[""]}}</td>
			</tr>
		</table> -->
		<button class="btn btn-primary" ng-click="diarioCtrl.importar_diario()">Confirmar!</button>
		<button class="btn btn-primary" ng-click="diarioCtrl.clear_selection_text()">Recomeçar</button>
	</div>





	<!-- <button class="btn btn-primary" ng-click="diarioCtrl.action = 'list'">Cancelar importação</button>



	 -->
</div>
<div ng-show="diarioCtrl.action == 'list'" class="diario_holder">
	<h1>{{diarioCtrl.titulo}} - 2014</h1>
	<div ng-controller="diarioCtrl.ServerSideProcessingCtrl as showCase">
		<table datatable="" dt-options="showCase.dtOptions" dt-columns="showCase.dtColumns" class="row-border hover"></table>
	</div>
	<button ng-click="diarioCtrl.action = 'list'" class="btn btn-warning">Cancelar importação</button>
</div>

<style>
.import_diario_holder{
	margin:0;
	overflow-x:auto;
	border: 1px solid #CCC;
}
.import_diario_holder table{
	border: none;
}
.import_diario_holder table tr{
	white-space: nowrap;
    border: 1px solid #CCC;
}
.import_diario_holder table tr th{
	padding: 0.5em;
}
.import_diario_holder table tr td{
	padding: 0.5em;
    border: 1px solid #CCC;
}

.preview_select_line{
	margin: 1em 0;
	padding: 1em 0.5em;
    height: 5em;
    line-height: 2.7em;
    font-style: italic;
    color: #aaa;
    font-size: 0.9em;
    border: 1px solid #EEE;
    overflow-x: auto;
    white-space: nowrap;
    overflow-y: hidden;
    text-align: left;
}

</style>